---
title: Principal component analysis
subtitle: Modern multivariate statistical techniques
author: Miguel Rodo
date: "2024-02-12"
bibliography: zotero.bib
format:
  html:
    embed-resources: true
    urlcolor: cyan
    linkcolor: blue
    filecolor: magenta
---

# Tidy data for demonstration and assessment

## All Vula files

```{r}
library(tibble)
library(readr)
library(readxl)

for (x in list.files("R", full.names = TRUE)) {
  source(x)
}
# List of files
files_to_read <- c(
  "Air Pollution Data.csv", "J_WEx6.11.RData", "NationalTrack.csv",
  "T1-3.txt", "T4-1.DAT", "T4-5.DAT", "T5-1.DAT", "T6_16_DENTAL.DAT",
  "T6-4.dat", "T7-6.DAT", "J_WEx5.9.Rdata", "Lizard.csv", "T1-2.txt",
  "T1-4.txt", "T4-3.DAT", "T5-12.dat", "T6-11.dat", "T6-17.dat",
  "T7-1.DAT", "T7-7.dat"
)

# Read all files into a list of tibbles
list_of_tibbles <- lapply(files_to_read, read_file) |>
  setNames(files_to_read)

tibble_vec_null_ind <- sapply(list_of_tibbles, is.null) |> which()
files_to_read[tibble_vec_null_ind]
```

## House price data

```{r}
data_tidy_house_price <- list_of_tibbles[["T7-1.DAT"]]
projr::projr_use_data(data_tidy_house_price, overwrite = TRUE)
```

## Paper

```{r}
data_tidy_paper <- list_of_tibbles[["T7-7.dat"]]
projr::projr_use_data(data_tidy_paper, overwrite = TRUE)
```

## Turtle

```{r}
data_raw_turtle <- readr::read_csv(
  projr::projr_path_get("data-raw", "turtle.csv")
)
data_tidy_turtle <- data_raw_turtle |>
  janitor::clean_names() |>
  dplyr::mutate(dplyr::across(where(is.character), tolower))
projr::projr_use_data(data_tidy_turtle, overwrite = TRUE)
```

## Mali family farm data

```{r}
data_raw_mali <- readr::read_csv(
  projr::projr_path_get("data-raw", "MaliFamilyFarmData.csv")
)
data_tidy_mali <- data_raw_mali |>
  janitor::clean_names()
projr::projr_use_data(data_tidy_mali, overwrite = TRUE)
```

## Air pollution

```{r}
data_raw_air <- list_of_tibbles[["Air Pollution Data.csv"]]
data_tidy_air <- data_raw_air |>
  janitor::clean_names()
projr::projr_use_data(data_tidy_air, overwrite = TRUE)
```
